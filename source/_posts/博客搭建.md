---
title: 博客搭建
---



# 博客搭建

## 主要组件

- Hexo: 博客框架, markdown渲染为html.
- github: 代码托管.

## 搭建步骤

### 安装

```sh
# 安装 hexo-cli
npm i hexo-cli --global
# 初始化博客
hexo init blog
# 到这里就可以本地查看博客了. `npm run server`
# 进入项目文件夹, 创建分支并推送
cd ./blog
git remote add origin https://github.com/ocean-99/ocean-99.github.io.git
git branch -M main
git commit -a -m 初始化
git push -u origin main
```

### 部署到GitHub

[在 GitHub Pages 上部署 Hexo | Hexo](https://hexo.io/zh-cn/docs/github-pages)

1. 创建仓库 `username.github.io` `username` 是你在 GitHub 上的用户名. 若以前推送过了, 直接改仓库名也可以, 记得改本地的推送地址.
   ```shell
   git push -u origin main
   ```

2. 使用 `node --version` 指令检查你电脑上的 Node.js 版本，并记下该版本 (例如：`v16.y.z`)

3. 确保Actions有写入权限. **仓库主页**->**Settings**->**Actions**->**General**->**Workflow permissions** 选中`Read and write permissions`后点击 `save`保存

4. 在仓库中建立 `.github/workflows/pages.yml`(本地创了推上去也行)，并填入以下内容 (替换`node-version`的值)：
   ```yml
   .github/workflows/pages.yml
   name: Pages
   
   on:
     push:
       branches:
         - main # default branch
   
   jobs:
     pages:
       runs-on: ubuntu-latest
       steps:
         - uses: actions/checkout@v2
         - name: Use Node.js 16.x
           uses: actions/setup-node@v2
           with:
             node-version: "把我换成你的node版本"
         - name: Cache NPM dependencies
           uses: actions/cache@v2
           with:
             path: node_modules
             key: ${{ runner.OS }}-npm-cache
             restore-keys: |
               ${{ runner.OS }}-npm-cache
         - name: Install Dependencies
           run: npm install
         - name: Build
           run: npm run build
         - name: Deploy
           uses: peaceiris/actions-gh-pages@v3
           with:
             github_token: ${{ secrets.GITHUB_TOKEN }}
             publish_dir: ./public
   ```

5. 上一步执行后, GitHub会执行action. 部署作业完成后，产生的页面会放在储存库中的 `gh-pages` 分支。

6. 在储存库中前往 **Settings** > **Pages** > **Source**，并将 branch 改为 `gh-pages`。

7. 前往 *username*.github.io 查看网站。
